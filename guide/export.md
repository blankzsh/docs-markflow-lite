# 导出功能

MarkFlow Lite 提供强大的导出功能，支持多种格式，让你的文档可以轻松分享和使用。

## 📋 支持的导出格式

### 1. PDF 导出
- **格式**：便携式文档格式
- **优点**：格式固定，跨平台兼容，适合打印
- **用途**：正式文档、报告、简历、合同等

### 2. HTML 导出
- **格式**：超文本标记语言
- **优点**：保留样式，可在浏览器中查看，支持交互
- **用途**：网页发布、邮件发送、在线分享等

### 3. Markdown 导出
- **格式**：原始 Markdown 文本
- **优点**：纯文本格式，易于编辑，版本控制友好
- **用途**：备份、版本控制、迁移到其他平台等

### 4. 图片导出
- **格式**：PNG、JPG
- **优点**：可视化分享，社交媒体友好
- **用途**：社交媒体分享、演示文稿、快速预览等

## 🚀 导出操作

### 快速导出

1. 点击顶部工具栏的「导出」按钮
2. 选择导出格式
3. 设置导出选项
4. 点击「导出」
5. 选择保存位置

### 快捷键导出

| 快捷键 | 导出格式 |
|--------|----------|
| `Ctrl + Shift + P` | PDF |
| `Ctrl + Shift + H` | HTML |
| `Ctrl + Shift + M` | Markdown |
| `Ctrl + Shift + I` | 图片 |

## ⚙️ 导出选项

### PDF 导出选项

```javascript
{
    // 页面设置
    format: 'A4',           // 页面格式: A4, A3, Letter, Legal
    orientation: 'portrait', // 方向: portrait, landscape
    margin: {
        top: '1in',
        right: '1in',
        bottom: '1in',
        left: '1in'
    },
    
    // 内容设置
    includeToc: true,       // 包含目录
    includePageNumbers: true, // 包含页码
    header: 'MarkFlow Lite Document', // 页眉
    footer: 'Generated by MarkFlow Lite', // 页脚
    
    // 样式设置
    theme: 'default',       // 主题: default, dark, light
    fontSize: '12pt',       // 字体大小
    lineHeight: 1.5,        // 行高
    
    // 高级设置
    compress: true,         // 压缩 PDF
    imageQuality: 0.8,      // 图片质量 (0-1)
    enableLinks: true       // 启用链接
}
```

### HTML 导出选项

```javascript
{
    // 样式设置
    includeStyles: true,    // 包含样式
    theme: 'default',       // 主题
    customCss: '',          // 自定义 CSS
    
    // 内容设置
    includeTitle: true,     // 包含标题
    includeToc: true,       // 包含目录
    tocDepth: 3,            // 目录深度
    
    // 功能设置
    enableMath: true,       // 启用数学公式
    enableMermaid: true,    // 启用流程图
    enableHighlight: true,  // 启用代码高亮
    
    // 输出设置
    standalone: true,       // 独立 HTML 文件
    minify: false,          // 压缩 HTML
    encoding: 'utf-8'       // 编码格式
}
```

### Markdown 导出选项

```javascript
{
    // 格式设置
    preserveYaml: true,     // 保留 YAML 前置数据
    tablePipeEscape: true,  // 转义表格中的管道符
    bulletListMarker: '-',  // 列表标记
    codeBlockStyle: 'fenced', // 代码块样式
    
    // 内容设置
    includeYaml: true,      // 包含 YAML 前置数据
    includeToc: false,      // 不包含目录（Markdown 本身不需要）
    
    // 扩展语法
    gfm: true,              // GitHub Flavored Markdown
    commonmark: false       // CommonMark 规范
}
```

## 🎨 自定义模板

### PDF 模板

```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{title}}</title>
    <style>
        body { font-family: 'Arial', sans-serif; }
        h1 { color: #333; }
        .header { text-align: center; }
        .footer { text-align: center; font-size: 12px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>{{title}}</h1>
        <p>生成时间: {{date}}</p>
    </div>
    
    <div class="content">
        {{content}}
    </div>
    
    <div class="footer">
        <p>由 MarkFlow Lite 生成</p>
    </div>
</body>
</html>
```

### HTML 模板

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="toc">
        {{tableOfContents}}
    </nav>
    
    <main class="content">
        <header>
            <h1>{{title}}</h1>
            <div class="meta">
                <span>作者: {{author}}</span>
                <span>日期: {{date}}</span>
            </div>
        </header>
        
        <article>
            {{content}}
        </article>
    </main>
    
    <footer>
        <p>由 MarkFlow Lite 生成</p>
    </footer>
</body>
</html>
```

## 📊 批量导出

### 批量导出多个文档

```javascript
// 选择多个文档
const documents = [
    'document1.md',
    'document2.md',
    'document3.md'
];

// 设置导出选项
const options = {
    format: 'pdf',
    outputDir: './exports/',
    includeMetadata: true,
    createIndex: true
};

// 执行批量导出
batchExport(documents, options);
```

### 导出为电子书

```javascript
const ebookOptions = {
    format: 'epub',
    title: 'My Documentation',
    author: 'Your Name',
    cover: './cover.jpg',
    chapters: [
        { title: '第一章', file: 'chapter1.md' },
        { title: '第二章', file: 'chapter2.md' }
    ]
};

exportEbook(ebookOptions);
```

## 🔧 高级功能

### 自定义处理器

```javascript
// 自定义导出处理器
const customProcessor = {
    name: 'custom-pdf',
    extensions: ['.pdf'],
    process: async (content, options) => {
        // 自定义处理逻辑
        const processedContent = preprocessContent(content);
        return generatePDF(processedContent, options);
    }
};

registerExportProcessor(customProcessor);
```

### 导出钩子

```javascript
// 导出前钩子
beforeExport((content, options) => {
    console.log('开始导出:', options.format);
    return content;
});

// 导出后钩子
afterExport((result, options) => {
    console.log('导出完成:', result.filePath);
    return result;
});
```

## 🐛 常见问题

### 导出失败

1. **内存不足**：
   - 减少文档大小
   - 关闭其他应用程序
   - 增加浏览器内存限制

2. **格式错误**：
   - 检查 Markdown 语法
   - 验证图片链接
   - 检查特殊字符

3. **样式丢失**：
   - 启用样式导出选项
   - 检查自定义 CSS
   - 验证主题配置

### 导出质量

1. **PDF 模糊**：
   - 提高图片质量设置
   - 使用矢量图形
   - 调整 DPI 设置

2. **HTML 样式异常**：
   - 检查自定义 CSS
   - 验证 HTML 结构
   - 检查浏览器兼容性

### 性能优化

1. **大文档导出慢**：
   - 分章节导出
   - 降低图片质量
   - 使用增量导出

2. **批量导出优化**：
   - 使用异步处理
   - 限制并发数量
   - 启用缓存机制

## 📚 相关资源

- [PDF 生成库](https://github.com/parallax/jsPDF)
- [HTML 转换工具](https://github.com/wkhtmltopdf/wkhtmltopdf)
- [Markdown 解析器](https://github.com/markdown-it/markdown-it)
- [EPUB 生成器](https://github.com/futurepress/epub.js)

## 🎯 下一步

- [功能特性](../features/) - 探索更多高级功能
- [Markdown 支持](../features/markdown) - 深入了解 Markdown 功能
- [流程图](../features/flowchart) - 学习创建流程图
- [数学公式](../features/math) - 掌握数学公式渲染\n\n---\n\n**提示**: 导出功能会保留原文档的所有格式和内容，确保你的文档在不同平台下都能完美呈现。\n\n**建议**: 根据不同的使用场景选择合适的导出格式，PDF 适合正式场合，HTML 适合在线分享，Markdown 适合版本控制。"}